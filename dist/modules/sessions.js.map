{"version":3,"sources":["../../src/modules/sessions.js"],"names":["expSession","require","RedisStore","module","exports","Sessions","url","store","session","secret","process","env","EXPRESS_SESSION_SECRET","resave","saveUninitialized","cookie","domain","ENV","expires","Date"],"mappings":";;AAAA,IAAIA,aAAaC,QAAQ,iBAAR,CAAjB;AACA,IAAIC,aAAaD,QAAQ,eAAR,EAAyBD,UAAzB,CAAjB;;AAEAG,OAAOC,OAAP,GAAiB,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACvC,KAAIC,QAAQ,IAAIL,UAAJ,CAAe,EAACI,KAAIA,GAAL,EAAf,CAAZ;AACA,KAAIE,UAAUR,WAAW;AACxBS,UAAQC,QAAQC,GAAR,CAAYC,sBAAZ,IAAsC,MADtB;AAExBL,SAAOA,KAFiB;AAGxBM,UAAQ,IAHgB;AAIxBC,qBAAmB,IAJK;AAKxBC,UAAQ;AACPC,WAAQ,CAACN,QAAQC,GAAR,CAAYM,GAAb,GAAmB,WAAnB,GAAiC,oBADlC;AAEPC,YAAS,IAAIC,IAAJ,CAAS,aAAT;AAFF;AALgB,EAAX,CAAd;;AAWA,QAAOX,OAAP;AACA,CAdD","file":"sessions.js","sourcesContent":["var expSession = require('express-session');\r\nvar RedisStore = require('connect-redis')(expSession);\r\n\r\nmodule.exports = function Sessions(url) {\r\n\tvar store = new RedisStore({url:url});\r\n\tvar session = expSession({\r\n\t\tsecret: process.env.EXPRESS_SESSION_SECRET || 'test',\r\n\t\tstore: store,\r\n\t\tresave: true,\r\n\t\tsaveUninitialized: true,\r\n\t\tcookie: {\r\n\t\t\tdomain: !process.env.ENV ? 'localhost' : '.joi-analytics.com',\r\n\t\t\texpires: new Date(2147483647000)\r\n\t\t}\r\n\t});\r\n\r\n\treturn session;\r\n}"]}